function initMap(){var a=$("body");a.hasClass("map-fullscreen")&&($(window).width()>768?$(".map-canvas").height($(window).height()-$(".header").height()):$(".map-canvas #map").height($(window).height()-$(".header").height()));var i=51.541216,e=-.095678,t="assets/json/items.json.txt";$.getJSON(t).done(function(a){addMap(e,i,a)}).fail(function(a,i,e){console.log(e)})}function mobileNavigation(){$(window).width()<979&&($(".main-navigation.navigation-top-header").remove(),$(".toggle-navigation").css("display","inline-block"),$("body").removeClass("navigation-top-header"),$("body").addClass("navigation-off-canvas"))}function submitItem(){$(".submit-item").on("click",function(){$("body").find("#add-modal").removeClass("hide").addClass("fade-in")}),$("body").find("#add-modal .modal-close").on("click",function(){$("body").find("#add-modal").addClass("hide").removeClass("fade-in")}),loadExifData()}function fancySelect(){var a=$("select");a.length>0&&a.selectpicker();var i=$(".bootstrap-select"),e=$(".dropdown-menu");i.on("shown.bs.dropdown",function(){e.removeClass("animation-fade-out"),e.addClass("animation-fade-in")}),i.on("hide.bs.dropdown",function(){e.removeClass("animation-fade-in"),e.addClass("animation-fade-out")}),i.on("hidden.bs.dropdown",function(){var a=$(this);$(a).addClass("open"),setTimeout(function(){$(a).removeClass("open")},100)})}function showModal(){$("body").on("click",".results .item a",function(a){$("#modal").removeClass("hide"),$("#modal").addClass("fade-in")}),$("body").find(".results .item a").on("click",function(a){a.preventDefault,$("#modal").removeClass("hide"),$("#modal").addClass("fade-in")}),$("#geocomplete").geocomplete({details:"#add-form",types:["geocode","establishment"]})}function drawItemSpecific(a,i,e){var t="";if(!a)return"";if("real_estate"==a){if(i.data[e].item_specific)return i.data[e].item_specific.bedrooms&&(t+='<span title="Bedrooms"><img src="assets/img/bedrooms.png">'+i.data[e].item_specific.bedrooms+"</span>"),i.data[e].item_specific.bathrooms&&(t+='<span title="Bathrooms"><img src="assets/img/bathrooms.png">'+i.data[e].item_specific.bathrooms+"</span>"),i.data[e].item_specific.area&&(t+='<span title="Area"><img src="assets/img/area.png">'+i.data[e].item_specific.area+"<sup>2</sup></span>"),i.data[e].item_specific.garages&&(t+='<span title="Garages"><img src="assets/img/garages.png">'+i.data[e].item_specific.garages+"</span>"),t}else if("bar_restaurant"==a)return i.data[e].item_specific?(i.data[e].item_specific.menu&&(t+="<span>Menu from: "+i.data[e].item_specific.menu+"</span>"),t):t;return""}function addMap(a,i,e){createHomepageGoogleMap(i,a,e)}function setInputsWidth(){for(var a=$(".search-bar.horizontal .input-row"),i=0;i<a.length;i++)a.find($('button[type="submit"]')).length&&a.find(".form-group:last").css("width","initial");for(var e=$(".search-bar.horizontal .form-group"),t=0;t<e.length;t++)$(".main-search").addClass(e.length<=2?"inputs-1":e.length<=3?"inputs-2":e.length<=4?"inputs-3":e.length<=5?"inputs-4":e.length<=6?"inputs-5":"inputs-4"),$(".search-bar.horizontal .form-group label").length>0&&$(".search-bar.horizontal .form-group:last-child button").css("margin-top",25)}function searchFilter(){$("#category-filter-search").on("click",function(a){a.preventDefault();var i=$("#category-filter").val();$(".items-list .results").find("li").each(function(a){$(this).removeClass("hide");var e=$(this).data("category");e!=i&&$(this).addClass("hide")})}),$("#reset-filter").on("click",function(a){a.preventDefault(),$(".items-list .results").find("li").each(function(a){$(this).removeClass("hide")}),$("#location").val(""),initMap()})}function loadExifData(){var a=function(a){var i=a.GPSLatitude,e=a.GPSLongitude;$("#lng").val(e),$("#lat").val(i),console.log(a)};try{$("#file").change(function(){$(this).fileExif(a)})}catch(i){console.log(i)}}function pushItemsToArray(a,i,e,t){function s(a){return a?n='<div class="price">'+a+"</div>":""}var n;t.push('<li><div class="item" id="'+a.data[i].id+'"><a href="#" class="image"><div class="inner"><div class="item-specific">'+drawItemSpecific(e,a,i)+'</div><img src="'+a.data[i].gallery[0]+'" alt=""></div></a><div class="wrapper"><a href="#" id="'+a.data[i].id+'"><h3>'+a.data[i].title+"</h3></a><figure>"+a.data[i].location+"</figure>"+s(a.data[i].price)+'<div class="info"><div class="type"><i><img src="'+a.data[i].type_icon+'" alt=""></i><span>'+a.data[i].type+'</span></div><div class="rating" data-rating="'+a.data[i].rating+'"></div></div></div></div></li>')}$(document).ready(function(){initMap(),mobileNavigation(),showModal(),fancySelect(),setInputsWidth(),searchFilter(),submitItem()});